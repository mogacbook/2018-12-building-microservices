## 3. 서비스 모델링하기


### 무엇이 좋은 서비스를 만드는가?   

> 느슨한 결합(loose coupling)  
> 강한 응집력(high cohesion)  

과도한 커뮤니케이션은 잠재적인 성능 문제를 넘어 강한 결합을 초래 할 수 있음  
특정 행위를 변경하고자 할 때는 한 곳에서 변경하고 가능한 한 신속하게 릴리스할 수 있어야 함  
-> 서로 연관된 행위가 한 곳에 모이고, 다른 경계와는 가능한 한 느슨하게 소통할 수 있도록 우리 문제 영역내에서 경계를 찾자  

### 경계가 있는 콘텍스트(bounded context)  
모든 도메인은 다수의 경계가 있는 콘텍스트로 구성  
각 콘텍스트 내에는 외부와 통신할 필요가 없는 것뿐만 아니라  
경계가 있는 다른 콘텍스트 외부와 공유되는 것  
-> 경계가 있는 콘텍스트로 보이는 도메인 부분들을 생각해 볼 것  

즉, ***콘텍스트는 우리가 이야기하는 도메인(domain)*** 이 되는 것 같다.  

> 1.  
> 세포가 존재할 수 있는 이유는  
> 세포막이 새포 내부와 외부에 있는 것을 구분하고, 어떤 것을 통과시킬지 결정하기 때문  
> (크으.. 명언이다)  
>   
>  
> 2.  
> 재무부서는 창고 내부의 세부 업무에 대해 세세하게 알 필요는 없지만  
> 재고 수준에 따라 장부 업데이트를 해야하므로 창고가 갖는 재고 품목 정보가 필요  
> 재고 품목은 두 콘텍스트 간의 공유 모델이 됨  

### 같은 모델이지만 서로 다른 의미를 갖는 것  
고객 콘텍스트에서의 반품은 창고 콘텍스트에서의 도착할 패키지와 재입고될 재고 품목을 의미함  
하지만 재입고 요청은 창고 콘텍스트 내에서의 아주 내부적인 관심사일 뿐  
-> 이에 우리는 어떤 모델을 공유하고, 어떤 내부 표현을 공유하면 안 되는지 명확히 고려해야 다른 콘텍스트와 강한 결합을 필할 수 있다.  

즉,  
조직 내에 존재하는 경계가 있는 콘텍스트에 관해 고민할 때는  
공유 데이터 관점이 아닌 나머지 도메인을 제공하는 콘텍스트의 능력 관점에서 봐야 함  
- 이 콘텍스트는 무엇을 하는가  
- 그 일을 하기 위해 어떤 데이터가 필요한가?  


### 동일한 용어와 개념  
비즈니스 도메인에 기반을 둔 소프트웨어 모델링은 경계가 있는 콘텍스트 개념에 멈춰서는 안 됨  
조직 내에서 공유되는 동일한 용어와 개념은 인터페이스에 반영되어야 함  
_마이크로서비스 간에 전송되는 형태를 조직 간에 전송되는 형태와 동일시하는 것은 아주 유용_  




