대규모 마이크로서비스
=====

### 장애는 어디에서나 발생한다
>>어떤 장애든 결국 발생한다는 것을 가정하여 장애에 대한 계획을 세운다면 다양한 절충안을 준비할 수 있다.
***
<br/>

### 얼마나 많아야 너무 많은 건가?
부하와 장애를 더 잘 처리하기 위해 시스템 확장 방법을 고려한다면 다음 요구사항을 이해하는 것에서 출발하라
- 응답시간/지연시간
- 가용성
- 데이터의 내구성
***                          
<br/>

### 기능 분해
>>회복력 있는 시스템 구축에서 가장 중요한 중 하나는 안전하게 기능을 분해할 수 있는 능력(특히 동작 또는 다운 중일 수 있는 다양하고 수많은 마이크로서비스에 기능이 확산되어 있을 때)

교차기능 요구 사항의 관점에서 개별 기능의 심각도를 생각함으로써 우리가 무엇을 할 수 있는지 훨씬 더 잘 알게 될 것<br/>
장애가 발생할 때 우아하게 처리할 수 있도록 기술적인 관점에서 가능한 일들을 고려

***
<br/>

### 아키텍처 안전 조치
무언가 잘못될 때 벌어지는 심각한 파급 효과를 막기 위해 이용하는 몇 가지 패턴 통칭
>> 나쁜 시민 한 명이 시스템 세상 전체를 망가뜨리지 않도록 시스템에 표준화를 강력히 고려해야 한다.
***
<br/>

### 안티프래질 조직
실패와 무질서로부터 얻을 수 있는 혜택 - "나심 탈레브"의 저서 "안티프레질"
>> 넥플릭스는 장애에 강한 시스템을 보장하기 위해 실제로 장애를 자장하며 이를 극복했다. 넷플릭스는 자앵를 만들고 그 장애에 대응하도록 구축함으로써 확장이 잘되고 고객의 요구도 잘 지원하는 시스템을 보장했다.<br/>
>> 넷플릭스는 발생한 장애가 주는 교훈의 중요성과 실수를 해도 비난하지 않느 ㄴ문화를 수용하는 중요성을 잘 알았고 각 개발자는 실환경에서 자신의 서비스를 관리할 책임도 있으므로 배우고 진화하는 이 과정에 더욱 적극적으로 참여하게 되었다<br/>
>> 이런 종류의 정기적 연습을 통해 많은 조직이 혜택을 받을 것으로 확신한다.

#### 타임아웃
모든 프로세스 경계 외부의 호출에 타임아웃을 넣고 항상 기본 타임아웃 시간을 설정하라<br/>
타임아웃 발생 시간을 보장하고 어떤 일이 발생했늕 살펴보며 타임아웃을 적젏 변경하라
#### 회로 차단기
가정의 회로 차단기(전력이 급등하면 회로 차단기가 내려가서 가전 기기 보호, 직접 회로 차단기를 내릴 수도 있음)와 같이 소프트웨어를 위한 보호 메커니즘을 적용할 수 있다.<br/>
#### 격벽
"마이클 나이가드"는 저서 "릴리스 잇: 성공적인 출시를 위한 소프트웨어 설계와 배치"에서 장애를 격리하기 위한 방법으로 적벽의 개념 소개<br/>
적벽은 선박에서 배의 나머지 부분을 보호하기 위해 밀봉 역할을 하는 선체의 벽을 의미<br/>
>> 타임아웃과 회로차단기는 리소스가 제한될 때 그 것을 확보하는데 도움이 되지만 적벽은 처음부터 리소스가 제한되지 않게 할 수 있다.<br/>
>> 예 : 히스트릭스는 리소스가 더 소진되지 않도록 특정 조건에서 요청을 거부할 수 있는 적벽을 구현하게 해준다. 이 것은 부하 차단으로 알려진 것으로 가끔은 요청을 거부하는 것이 다수의 상향 서비스 때문에 중요한 시스템이 압도되거나 병목구간이 되는 것을 막는 최선의 방법이 된다.
#### 격리
서비스들이 서로 분리되면 서비스 소유자 간에 조율할 것도 줄여든다. 팀 간 조율이 적어질수록 더 자유롭게 서비스를 운영하고 발전시킬 수 있기 때문에 팀의 자율성은 높아진다.
***
<br/>

### 멱등성
***
<br/>

### 확장
#### 더 크게 만들기
#### 작업부하 나누기
#### 위험 분산
#### 부하 분산
#### 작업자 기반 시스템
#### 다시 시작하기
***
<br/>

### 데이터베이스 확장
#### 서비스의 가용성과 데이터의 내구성
#### 읽기용 확장
#### 쓰기용 확장
#### 공유 데이터베이스 인프라스트럭처
#### CQRS
***
<br/>

### 캐싱
#### 클라이언트 측, 프록시, 그리고 서버 측 캐싱
#### HTTP 캐싱
#### 쓰기용 캐싱
#### 회복성을 위한 캐싱
#### 원본 감추기
#### 단순화하라
#### 캐시 중독: 경계할 일화
***
<br/>

### 자동 확장
***
<br/>

### CAP 정리
#### 일관성 희생하기
#### 가용성 희생하기
#### 분할용인 희생하기?
#### AP 또는 CP?
#### 양자택일이 아니다
#### 그리고 현실세계
***
<br/>

### 서비스 발견
#### DNS
***
<br/>

### 동적 서비스 레지스트리
#### 주키퍼
#### 칸슬
#### 유레카
#### 직접 만들기
#### 사람을 잊지 마라!
***
<br/>

### 문서화 서비스
#### 스웨거
#### HAL과 HAL 브라우저
***
<br/>

### 자기 기술 시스템
***
<br/>

### 마치며
***
<br/>
